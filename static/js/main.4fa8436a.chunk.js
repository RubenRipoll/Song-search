(this["webpackJsonpdemo-app"]=this["webpackJsonpdemo-app"]||[]).push([[0],{27:function(e,t,n){},28:function(e,t,n){},38:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),s=n(18),i=n.n(s),a=(n(27),n.p,n(28),n(3)),o=n(2),j=n(0),l=function(){return Object(j.jsxs)("div",{children:[Object(j.jsx)("h3",{children:"Error 404"}),Object(j.jsx)("p",{children:"Not Found"})]})},b=n(7);n(22);var d=n(12),h=n(4),u=function(){var e=function(e,t){var n={accept:"application/json"},r=new AbortController;return t.signal=r.signal,t.method=t.method||"GET",t.headers=t.headers?Object(b.a)(Object(b.a)({},n),t.headers):n,t.body=JSON.stringify(t.body)||!1,t.body||delete t.body,setTimeout((function(){return r.abort()}),3e3),fetch(e,t).then((function(e){return e.ok?e.json():Promise.reject({err:!0,status:e.status||"00",statusText:e.statusText||"Ocurri\xf3 un error"})})).catch((function(e){return e}))};return{get:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e(t,n)},post:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n.method="POST",e(t,n)},put:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n.method="PUT",e(t,n)},del:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n.method="DELETE",e(t,n)}}},O=n(8),x=(n(38),function(){return Object(j.jsxs)("div",{className:"lds-ring",children:[Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{}),Object(j.jsx)("div",{})]})}),g=function(e){var t=e.msg,n={padding:"1rem",marginBottom:"1rem",textAlign:"center",color:"#fff",fontWeight:"bold",backgroundColor:e.bgColor};return Object(j.jsx)("div",{style:n,children:Object(j.jsx)("p",{dangerouslySetInnerHTML:{__html:t}})})},f=n(17),m=n.n(f),p=n(21),v=function(e){var t=e.artist;return Object(j.jsxs)("section",{children:[Object(j.jsx)("h3",{children:t.strArtist}),Object(j.jsx)("img",{src:t.strArtistThumb,alt:t.strArtist}),Object(j.jsxs)("p",{children:[t.intBornYear," - ",t.intDiedYear||"Presente"]}),Object(j.jsx)("p",{children:t.strCountry}),Object(j.jsxs)("p",{children:[t.strGenre," - ",t.strStyle]}),Object(j.jsx)("a",{href:"http://".concat(t.strWebsite),target:"_blank",rel:"noreferrer",children:"Sitio Web Oficial"}),Object(j.jsx)("p",{children:t.strBiographyEN})]})},S=function(e){var t=e.title,n=e.lyrics;return Object(j.jsxs)("section",{children:[Object(j.jsx)("h3",{children:t}),Object(j.jsx)("blockquote",{style:{whiteSpace:"pre-wrap"},children:n})]})},y=function(e){var t=e.search,n=e.lyric,r=e.bio;return n&&r?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h2",{children:"Detalles"}),n.error||n.err||"AbortError"===n.name?Object(j.jsx)(g,{msg:'Error: no existe la cancion "<em>'.concat(t.song,'</em>"'),bgColor:"#dc3545"}):Object(j.jsx)(S,{title:t.song,lyrics:n.lyrics}),r.artists?Object(j.jsx)(v,{artist:r.artists[0]}):Object(j.jsx)(g,{msg:'Error: no existe el int\xe9rprete "<em>'.concat(t.artist,'</em>"'),bgColor:"#dc3545"})]}):null},C=function(e){var t=e.mySongs[Object(o.i)().id],n=t.search,r=t.lyric,c=t.bio;return Object(j.jsx)(y,{search:n,lyric:r,bio:c})},w={artist:"",song:""},E=function(e){var t=e.handleSearch,n=e.handleSaveSong,c=Object(r.useState)(w),s=Object(h.a)(c,2),i=s[0],a=s[1],o=Object(r.useState)(!0),l=Object(h.a)(o,2),d=l[0],u=l[1],x=function(e){a(Object(b.a)(Object(b.a)({},i),{},Object(O.a)({},e.target.name,e.target.value)))};return Object(j.jsx)("div",{children:Object(j.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),!i.artist||!i.song)return alert("Datos Incompletos"),void u(!0);t(i),a(w),u(!1)},children:[Object(j.jsx)("input",{type:"text",name:"artist",placeholder:"Nombre del Int\xe9rprete",onChange:x,value:i.artist}),Object(j.jsx)("input",{type:"text",name:"song",placeholder:"Nombre de la Canci\xf3n",onChange:x,value:i.song}),Object(j.jsx)("input",{type:"submit",value:"Enviar"}),Object(j.jsx)("input",{type:"button",onClick:n,value:"Agregar Canci\xf3n",disabled:d&&"disabled"})]})})},k=function(e){var t=e.id,n=e.el,r=e.handleDeleteSong,c=n.bio,s=n.search,i=c.artists[0].strArtistThumb,a=Object(o.g)();return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:Object(j.jsx)("img",{style:{width:"auto",height:"40px"},src:i,alt:s.artist})}),Object(j.jsx)("td",{children:s.artist}),Object(j.jsx)("td",{children:s.song}),Object(j.jsxs)("td",{children:[Object(j.jsx)("button",{onClick:function(){return a.push("/".concat(t))},children:"Ver"}),Object(j.jsx)("button",{onClick:function(){return r(t)},children:"Eliminar"})]})]})},T=function(e){var t=e.mySongs,n=e.handleDeleteSong;return Object(j.jsxs)("div",{children:[Object(j.jsx)("h3",{children:"Mis Canciones Favoritas"}),Object(j.jsxs)("table",{children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{colSpan:"2",children:"Artista"}),Object(j.jsx)("th",{children:"Canci\xf3n"}),Object(j.jsx)("th",{children:"Acciones"})]})}),Object(j.jsx)("tbody",{children:t.length>0?t.map((function(e,t){return Object(j.jsx)(k,{el:e,id:t,handleDeleteSong:n},t)})):Object(j.jsx)("tr",{children:Object(j.jsx)("td",{colSpan:"4",children:"Sin canciones favoritas"})})})]})]})},D=JSON.parse(localStorage.getItem("mySongs"))||[],N=function(){var e=Object(r.useState)(null),t=Object(h.a)(e,2),n=t[0],c=t[1],s=Object(r.useState)(null),i=Object(h.a)(s,2),b=i[0],O=i[1],g=Object(r.useState)(null),f=Object(h.a)(g,2),v=f[0],S=f[1],w=Object(r.useState)(!1),k=Object(h.a)(w,2),N=k[0],A=k[1],I=Object(r.useState)(D),F=Object(h.a)(I,2),J=F[0],P=F[1];Object(r.useEffect)((function(){if(null!==n){var e=function(){var e=Object(p.a)(m.a.mark((function e(){var t,r,c,s,i,a,o,j;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.artist,r=n.song,c="https://www.theaudiodb.com/api/v1/json/1/search.php?s=".concat(t),s="https://api.lyrics.ovh/v1/".concat(t,"/").concat(r),console.log(c,s),A(!0),e.next=7,Promise.all([u().get(c),u().get(s)]);case 7:i=e.sent,a=Object(h.a)(i,2),o=a[0],j=a[1],console.log(o,j),S(o),O(j),A(!1);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),localStorage.setItem("mySongs",JSON.stringify(J))}}),[n,J]);return Object(j.jsx)("div",{children:Object(j.jsxs)(a.b,{basename:"canciones",children:[Object(j.jsxs)("header",{children:[Object(j.jsx)("h2",{children:"Song Search"}),Object(j.jsx)(a.c,{to:"/",children:"Home"})]}),N&&Object(j.jsx)(x,{}),Object(j.jsx)("article",{className:"grid-1-2",children:Object(j.jsxs)(o.d,{children:[Object(j.jsxs)(o.b,{exact:!0,path:"/",children:[Object(j.jsx)(E,{handleSearch:function(e){c(e)},handleSaveSong:function(){alert("Salvando cancion en Favoritos");var e={search:n,lyric:b,bio:v},t=[].concat(Object(d.a)(J),[e]);P(t),c(null),localStorage.setItem("mySongs",JSON.stringify(t))}}),Object(j.jsx)(T,{mySongs:J,handleDeleteSong:function(e){if(window.confirm('\xbfEstas seguro de eliminar la cancion con el id "'.concat(e,'"?'))){var t=J.filter((function(t,n){return n!==e}));P(t),localStorage.setItem("mySongs",JSON.stringify(t))}}}),n&&!N&&Object(j.jsx)(y,{search:n,lyric:b,bio:v})]}),Object(j.jsx)(o.b,{exact:!0,path:"/:id",children:Object(j.jsx)(C,{mySongs:J})}),Object(j.jsx)(o.b,{path:"*",children:Object(j.jsx)(l,{})})]})})]})})};var A=function(){return Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"React Router"}),Object(j.jsx)("a",{href:"https://reactrouter.com/web/guides/quick-start",target:"_blank",rel:"noreferrer",children:"Documentacion"}),Object(j.jsx)("hr",{}),Object(j.jsx)(N,{}),Object(j.jsx)("hr",{}),Object(j.jsx)("hr",{})]})},I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,41)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),s(e),i(e)}))};i.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(A,{})}),document.getElementById("root")),I()}},[[40,1,2]]]);
//# sourceMappingURL=main.4fa8436a.chunk.js.map